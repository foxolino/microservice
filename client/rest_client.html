<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
    
    <div id="app">
        <button v-on:click='refreshList()'>Refresh</button>
        <ul id="example-1">
            <li v-for="item in items">
            {{ item.title }} <button v-on:click='deleteThis(item.id)'>Delete</button>
            </li>
        </ul>
    </div>

    <script>
    var app = new Vue({
        el: '#app',
        data: {
            items: [
                {
                    id: 1,
                    title: 'Eins',
                },
                {
                    id: 2,
                    title: 'Zwei',
                },
                {
                    id: 3,
                    title: 'Drei',
                }
            ]
        },
        methods: {
            refreshList: function() {
                fetch('/trainings').then(
                    response => {
                        return response.json();
                    }
                ).then(json => {
                    this.items = json;
                });
            },
            deleteThis: function (id) {
                fetch('/trainings/' + id, {
                    method: 'delete'
                }).then(response => {
                    if (response.ok()) {
                        this.refreshList();
                    }
                }).catch(e => {
                    console.log(e);
                });
            }
        }
    });
    </script>
</body>
</html>